<div id="show">
    <div class="container">
        <div id="tabs-profile" class="row">
            <ul class="tabs-menu col-sm-4">
                <li>
                    <a href="#tabs-1">Profil</a>
                </li>
                <li>
                    <a href="#tabs-2">Login et mot de passe</a>
                </li>
                <li>
                    <a href="#tabs-3">Galerie photo</a>
                </li>
                <li>
                    <a href="#tabs-4">Mes lieux</a>
                </li>
                <li>
                    <a href="#tabs-5">Mes Expositions</a>
                </li>
                <li>
                    <a href="#tabs-6">Mes visits</a>
                </li>
            </ul>
            <div class="col-sm-8">
                <div id="tabs-1" class="tab-profile">
                    <div class="half">
                        <%= form_for @user, :url => {:controller => "profile", :action => "update_profile"}, html: { method: :post, class:"form-type-costum form-type-costum-no-padding well-users" } do |f| %>
                        <h2>Editer mon profil</h2>
                        <% if @user.errors.any? %>
                        <div id="error_explanation">
                            <h2><%= pluralize(@user.errors.count, "error") %>prohibited this user from being saved:</h2>
                            <ul>
                                <% @user.errors.full_messages.each do |message| %>
                                <li><%= message %></li>
                                <% end %>
                            </ul>
                        </div>
                        <% end %>
                        <%= f.text_field :firstname, class: "form-control", placeholder: "Prénom" %>
                        <%= f.text_field :lastname, class: "form-control", placeholder: "Nom" %>
                        <%= f.text_field :address, class: "form-control", placeholder: "Adresse" %>
                        <%= f.text_field :zipcode, class: "form-control", placeholder: "Code postal", pattern: "^(([0-8][0-9])|(9[0-5]))[0-9]{3}$" %>
                        <%= f.text_field :city, class: "form-control", placeholder: "Ville" %>
                        <%= f.text_field :tel, class: "form-control", placeholder: "Téléphone", pattern: '^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$' %>
                        <div id="art_tag_manage">
                            <h3>Tags</h3>
                            <div class="art_tag_form">
                                <input type="text" id="add_tag_text" class="form-control">
                                <input type="button" id="add_tag_submit" value="add">
                            </div>
                            <div class="art_tags_container" data-prototype="<div class='art_tag' data-name='__name__'><span class='art_tag_name'>__name__</span><span class='art_tag_delete'><i class='fa fa-trash-o' aria-hidden='true'></i></span></div>">
                                <%  @user.art_tags.each do |t| %>
                                <div class="art_tag" data-name="<%= t.name %>">
                                    <span class="art_tag_name"><%= t.name %></span>
                                    <span class="art_tag_delete">
                                        <i class="fa fa-trash-o" aria-hidden="true"></i>
                                    </span>
                                </div>
                                <% end %>
                            </div>
                        </div>
                        <%= f.hidden_field :all_tags, id: "tag-field", placeholder: "Vos tags" %>
                        <div class="form-action-container">
                            <%= f.submit "Valider", class: "form-action main-action" %>
                        </div>
                        <% end %>
                    </div>
                </div>
                <div id="tabs-2" class="tab-profile">
                  <div class="half">
                    <h2>Inscription / Connexion</h2>
                    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put, class:"form-type-costum form-type-costum-no-padding well-users" }) do |f| %>
                        <%= devise_error_messages! %>
                        <div class="form-group">
                            <%= f.label :email %>
                            <%= f.email_field :email, autofocus: true, class:"form-control" %>
                        </div>

                        <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                        <div>Currently waiting confirmation for:
                            <%= resource.unconfirmed_email %></div>
                        <% end %>

                        <div class="form-group">
                            <%= f.label :password %>
                            <i>(leave blank if you don't want to change it)</i>
                            <%= f.password_field :password, autocomplete: "off", class:"form-control" %>
                            <% if @minimum_password_length %>
                            <em class="form-annotation"><%= @minimum_password_length %>
                                characters minimum</em>
                            <% end %>
                        </div>

                        <div class="form-group">
                            <%= f.label :password_confirmation %>
                            <%= f.password_field :password_confirmation, autocomplete: "off", class:"form-control" %>
                        </div>

                        <div class="form-group">
                            <%= f.label :current_password %>
                            <i>(we need your current password to confirm your changes)</i>
                            <%= f.password_field :current_password, autocomplete: "off", class:"form-control" %>
                        </div>

                        <div class="form-action-container">
                            <%= f.submit "Update", class: "form-action main-action" %>
                        </div>
                        <% end %>
                  </div>
                </div>
                <div id="tabs-3" class="tab-profile">
                  <div class="half">
                    <%= form_for @user, :url => {:controller => "profile", :action => "update_profile"}, html: { method: :post, class:"form-type-costum form-type-costum-no-padding well-users" } do |f| %>
                    <h2>Galerie photo</h2>

                    <div class="img-container">
                      <div class="img-list">
                        <% @user.image_users.each do |img_u| %>
                        <div class="img-form">
                            <%= f.fields_for :image_users, img_u do |ff| %>
                            <%= image_tag img_u.file.url(:thumb) %>
                            <div class="action">
                              <%= ff.check_box :_destroy -%>
                              <%= ff.label :_destroy, class:"label-for-check" %>
                            </div>
                            <% end %>
                        </div>
                        <% end %>
                      </div>
                        <div class="add-img-form">
                            <h3>Images</h3>
                            <% img_u = ImageUser.new %>
                            <%= f.fields_for :image_users, img_u do |ff| %>
                            <%= ff.file_field :file %>
                            <%= ff.text_field :alt %>
                            <% end %>
                        </div>
                    </div>
                    <div class="form-action-container">
                        <%= f.submit "Update", class: "form-action main-action" %>
                    </div>
                    <% end %>
                  </div>
                </div>
                <div id="tabs-4" class="tab-profile">
                  <h2>Mes lieux</h2>
                  <div class="items-list">

                    <div class="form-action-container">
                        <%= link_to "Ajouter un lieu", new_place_path, class: "form-action main-action" %>
                    </div>
                  </div>

                </div>
                <div id="tabs-5" class="tab-profile">
                  <h2>Mes expositions</h2>
                  <div class="form-action-container">
                      <%= link_to "Créer une exposition", new_exhibition_path, class: "form-action main-action" %>
                  </div>
                </div>
                <div id="tabs-6" class="tab-profile">
                  <h2>Mes visites</h2>
                </div>
            </div>
        </div>
    </div>
</div>
